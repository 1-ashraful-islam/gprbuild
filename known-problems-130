========================================
Known problems in GPRBUILD version 1.3.0
========================================

Copyright (c) 2009, AdaCore

The following is a listing of known problems in release 1.3.0. Except where
specifically noted, all these problems have been corrected in the development
tree of the 1.4 technology. This means they are corrected in any 1.3.0w
wavefront issued subsequent to the date specified (in ISO format YYYY-MM-DD) in
the status line. This can be used to determine if a given wavefront has the fix
identified in the entry.

KP-130-IA01-027 Incorrect linking of shared library on Windows

  Problem:    When gprbuild is invoked with --unchecked-shared-lib-imports
              and a shared library imports a static ibrary, the linking of
              the shared library may fail in Windows with undefined references.

  Status:     This was fixed in 1.4.0 on 2009-10-02

  Workaround: Add the necessary Library_Options

KP-130-I904-011 Incorrect compilation in extending projects

  Problem:    gprbuild incorrectly compiles up to date inherited sources
              in extending projects and does not recompile non up-to-date
              sources in projects extending externally built projects.

  Status:     This was fixed in 1.4.0 on 2009-09-05

  Workaround: Make the project being extended not externally built.

KP-130-I828-007 Crash when using attribute Included_Switches

  Problem:    When there are several languages in a project files and for
              one of these languages attribute Included_Switches is declared,
              gprbuild may crash.

  Status:     This was fixed in 1.4.0 on 2009-08-29

  Workaround: Use one project file for each language

KP-130-I828-004 Failure to bind with a cross with no prefix

  Problem:    When a cross-compiler with no prefix is used, gprbind fails as
              it does not recognize "gnatbind_prefix=" as a special option.

  Status:     This was fixed in 1.4.0 on 2009-09-01

  Workaround: Remove the lines in package Binder of the configuration project
              file that specify the option "gnatbind_prefix=".

KP-130-I722-017 Systematic binding and linking when using extending projects

  Problem:    If you are using extending projects, gprbuild will systematically
              bind and link your application, even when everything is up to
              date.

  Status:     This was fixed in 1.4.0 on 2009-07-21

  Workaround: The compilation still performs correctly, and is just a bit
              slower

KP-130-I713-011 gprclean does not remove binder files

  Problem:    When the main unit's name is less than 3 characters long,
              gprclean does not remove the binder generated files (b__*.ads,
              b__*.adb and *.bexch files)

  Status:     This was fixed in 1.4.0 on 2009-07-13

  Workaround: Remove the files manually.

KP-130-I525-017 gprbuild incompatible with option -r of gnatbind

  Problem:    When a binder option such as -r that adds output to the
              invocation of gnatbind is used, linking fails.

  Status:     This was fixed in 1.4.0 on 2009-08-12

  Workaround: Remove binder option -r

KP-130-I507-019 Spec not compiled when body has been excluded

  Problem:    When the body of a spec has been locally removed, the spec that
              does not need a completion is not compiled.

  Status:     This was fixed in 1.4.0 on 2009-05-19

  Workaround: Use a spec with a dummy completion and a dummy body

KP-130-I505-015 Extending library project not built

  Problem:    When gprbuild is invoked for a library project that extends
              another one, the library may not be built.

  Status:     This was fixed in 1.4.0 on 2009-05-06

  Workaround: Use only non extending library projects

KP-130-I421-020 First compiler on the path not automatically used

  Problem:    If the directory where gprbuild resides is not first on the path,
              compilers that are in front of this directory in the path will
              not be chosen in autoconfiguration.

  Status:     This was fixed in 1.4.0 on 2009-09-08

  Workaround: Create a configuration project file using gprconfig before
              invoking gprbuild.
