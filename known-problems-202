========================================
Known problems in GPRBUILD version 2.0.2
========================================

Copyright (C) 2013, AdaCore

The following is a listing of known problems in release 2.0.2. Except where
specifically noted, all these problems have been corrected in the development
tree of the 2.1 technology. This means they are corrected in any 2.1.0w
wavefront issued subsequent to the date specified (in ISO format YYYY-MM-DD) in
the status line. This can be used to determine if a given wavefront has the fix
identified in the entry.

KP-202-MA30-007 Aggregated projects with same name

  Problem:    When gprbuild is invoked with an aggregate project and some of
              the aggregated projects have a common name, linking some
              executables may fail in one or several of these aggregated
              projects.

  Status:     This was fixed in 2.1 on 2013-10-30

  Workaround: Use diffrent project names for the aggregated projects.

KP-202-MA15-017 gprclean crashes cleaning a library project without object dir

  Problem:    gprclean crashes with an exception when invoked to clean a
              library project with a specified object directory that does not
              exist.

  Status:     This was fixed in 2.1 on 2013-10-15

  Workaround: Make sure that all object directories exist before invoking
              gprclean.

KP-202-MA11-007 Aggregate projects and mains with no suffix

  Problem:    When the main project is an aggregate project, gprbuild does
              not recognize mains specified without suffix, including in
              attributes Main in aggregated projects.

  Status:     This was fixed in 2.1 on 1013-10-11

  Workaround: Use full source file names for mains.

KP-202-M913-037 Several compilations of the same source with aggregated project

  Problem:    When gprbuild is invoked with an aggregate project and the same
              project A belongs to several project trees rooted at the
              aggregated projects, sources of project A may be compiled or
              recompiled several times.

  Status:     This was fixed in 2.1 on 2013-09-15

  Workaround: Invoke gprbuild individually on the aggregated projects.

KP-202-M910-024 None dependency kind and non empty dependency switches

  Problem:    gprbuild may crash or behave incorrectly when the Dependency_Kind
              for a language is "None" and the Dependency_Switches is declared
              as a non empty list.

  Status:     This was fixed in 2.1 on 2013-09-10

  Workaround: Make sure that when Dependency_Kind is "None",
              Dependency_Switches is not declared or is declared with an empty
              list value, including in the configuration project file.

KP-202-M903-002 Incorrect link with gprbuild -l

  Problem:    When gprbuild is invoked with -l to link an executable and
              there are non Ada object files to be put in the global archive
              gprbuild may crash or link incorrectly the executable.

  Status:     This was fixed in 2.1 on 2013-09-04

  Workaround: Invoke gprbuild without switch -l.

KP-202-M625-043 Minimal recompilation and preprocessed sources

  Problem:    When gprbuild is invoked with -m (minimal recompilation) and
              a source that need preprocessing is checked for its checksum
              to decide if it needs to be recompiled, gprbuild may behave
              incorrectly, either reporting "preprocessor not active" errors
              or even crashing.

  Status:     This was fixed in 2.1 on 2013-06-26

  Workaround: Invoke gprbuild without switch -m.

KP-202-M617-043 --single-compile-per-obj-dir in package Builder

  Problem:    When switches --single-compile-per-obj-dir is specified in
              package Builder of the main project, it has no effect for
              simultaneous compilations.

  Status:     This was fixed in 2.1 on 2013-08-08

  Workaround: Use --single-compile-per-obj-dir on the command line.

KP-202-M417-023 Deeply extended library projects

  Problem:    When a library A project extends a project B that itself extends
              a project C, object files for sources that are not immediate
              sources of projects A or B are not included in the library file.

  Status:     This was fixed in 2.1 on 2013-04-17

  Workaround: Do not extend an already extending library project.

KP-202-M116-027 aggregated projects sharing extended projects

  Problem:    gprbuild refuses aggregate projects where several aggregated
              project trees share a project that is extended at least once.

  Status:     This was fixed in 2.1 on 2013-01-18

  Workaround: Do not aggregate projects that share an extended project.

KP-202-KC15-051 gprconfig should not parse twice the same knowledge base

  Problem:    gprconfig, in some circumstances, may parse several times the
              same knowledge base directory. This may result in an invalid
              configuration project file, for example the same string type
              may be declared several times.

  Status:     This was fixed in 2.1 on 2013-02-04

  Workaround: Avoid parsing several times the same knowledge base directory.
