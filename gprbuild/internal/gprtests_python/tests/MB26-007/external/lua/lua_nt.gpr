library project Lua is
    for Languages   use ("C");
    for Source_Dirs use ("src");

    for Library_Name use "lua";

    for Object_Dir use "obj";
    for Library_Dir use "lib";

    -- we exclude the lua compiler
    for Excluded_Source_Files use ("lua.c", "luac.c");

    package Compiler is 
        for Default_Switches("C") use (
                                      "-Wall", "-Wextra", "-Wshadow", 
                                      "-O2", "-g",
				                      "-DLUA_COMPAT_ALL",
                                      "-ansi");
    end Compiler;

end Lua;
