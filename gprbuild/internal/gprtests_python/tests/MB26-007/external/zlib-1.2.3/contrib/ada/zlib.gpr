project Zlib is

   for Languages use ("Ada");
   for Source_Dirs use (".");
   type Platform_Type is ("x86_64-pc-linux-gnu", "i686-pc-mingw32");
   Platform : Platform_Type := external ("Platform", "");
   for Main use ("mtest.adb", "read.adb");
   type Build_Type is ("RELEASE","DEBUG","PROFILE");
   Build : Build_Type := external ("Build", "RELEASE");
   for Object_Dir use "../../../tests/builds";

   package Compiler is
      for Default_Switches ("ada") use ("-gnatwcfilopru", "-gnatVcdfimorst", "-gnatyabcefhiklmnoprst");
   end Compiler;

   package Linker is
      for Default_Switches ("ada") use ("-lz");
   end Linker;

   package Builder is
      for Default_Switches ("ada") use ("-gnat05");
   end Builder;

   package Binder is
      case Platform is
	when "x86_64-pc-linux-gnu" =>
		for Default_Switches ("ada") use ("-static","-aO../../../builds/x86_64-pc-linux-gnu/lib/");
        when "i686-pc-mingw32" =>
                for Default_Switches ("ada") use ("-static","-aO../../../builds//i686-pc-mingw32/lib/"); 
      end case;
   end Binder;

end Zlib;
