project Prj is

   type Build_Type is ("x", "y");
   Build : Build_Type := external ("BUILD", "x");

   for Object_Dir use "obj";
   for Exec_Dir use ".";
   for Main use ("main.adb");

   case Build is
      when "x" =>
         for Locally_Removed_Files use
            ("main-do_it.adb", "main-do_it-y.adb");
      when "y" =>
         for Locally_Removed_Files use
            ("main-do_it.adb", "main-do_it-x.adb");
   end case;

   package Naming is
      case Build is
         when "x" =>
            for Body ("main.do_it") use "main-do_it-x.adb";
         when "y" =>
            for Body ("main.do_it") use "main-do_it-y.adb";
      end case;
   end Naming;
end Prj;
