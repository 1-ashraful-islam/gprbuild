project Test is

   type Build_Type is ("x", "y");
   Build : Build_Type := External ("BUILD", "x");

   for Languages use ("Ada");
   for Source_Dirs use ("src");
   for Object_Dir use "obj";
   for Main use ("main.adb");

   package Naming is
      case Build is
         when "x" =>
            for Body ("main.do_it") use "main-do_it-x.adb";
         when "y" =>
            for Body ("main.do_it") use "main-do_it-y.adb";
         when others =>
            for Body ("main.do_it") use "main-do_it.adb";
      end case;
   end Naming;
end Test;
